{"ast":null,"code":"var _jsxFileName = \"/Users/jimmywang/Desktop/RCOS/GitHub/MarketMind/frontend/src/components/SearchPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { SearchIcon, TrendingUpIcon, TrendingDownIcon } from './Icons';\nimport { Line, Chart } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, TimeScale, Filler // Filler is needed for gradient backgrounds\n} from 'chart.js';\nimport { CandlestickController, CandlestickElement } from 'chartjs-chart-financial';\nimport 'chartjs-adapter-date-fns';\n\n// Register all necessary components for Chart.js\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, TimeScale, Filler,\n// Register Filler plugin\nCandlestickController, CandlestickElement);\nconst timeFrames = [{\n  label: '1D',\n  value: '1d'\n}, {\n  label: '5D',\n  value: '5d'\n}, {\n  label: '1M',\n  value: '1mo'\n}, {\n  label: '6M',\n  value: '6mo'\n}, {\n  label: '1Y',\n  value: '1y'\n}];\nconst StockChart = ({\n  chartData,\n  ticker,\n  onTimeFrameChange,\n  activeTimeFrame\n}) => {\n  _s();\n  const [chartType, setChartType] = useState('line');\n  const chartConfig = useMemo(() => {\n    if (!chartData || chartData.length === 0) return null;\n    const labels = chartData.map(d => new Date(d.date));\n    const options = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          display: false\n        },\n        title: {\n          display: true,\n          text: `${ticker} Price History (${activeTimeFrame.label})`,\n          font: {\n            size: 18\n          },\n          padding: {\n            top: 10,\n            bottom: 20\n          }\n        }\n      },\n      scales: {\n        x: {\n          type: 'time',\n          time: {\n            unit: activeTimeFrame.value === '1d' ? 'hour' : 'day',\n            tooltipFormat: 'MMM dd, yyyy HH:mm'\n          },\n          grid: {\n            display: false\n          }\n        },\n        y: {\n          grid: {\n            color: 'rgba(200, 200, 200, 0.1)'\n          }\n        }\n      },\n      interaction: {\n        intersect: false,\n        mode: 'index'\n      },\n      elements: {\n        point: {\n          radius: 0 // Hide points on the line\n        }\n      }\n    };\n    let data;\n    let ChartComponent = Line;\n    if (chartType === 'line') {\n      data = {\n        labels,\n        datasets: [{\n          label: 'Price',\n          data: chartData.map(d => d.close),\n          fill: 'start',\n          // Logic for gradient background color\n          backgroundColor: context => {\n            const ctx = context.chart.ctx;\n            const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n            const lastPrice = chartData[chartData.length - 1].close;\n            const firstPrice = chartData[0].close;\n            const isUp = lastPrice >= firstPrice;\n            gradient.addColorStop(0, isUp ? 'rgba(16, 185, 129, 0.4)' : 'rgba(239, 68, 68, 0.4)');\n            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n            return gradient;\n          },\n          // Logic for segmented line color (red/green)\n          segment: {\n            borderColor: ctx => {\n              const y1 = ctx.p0.parsed.y;\n              const y2 = ctx.p1.parsed.y;\n              return y2 >= y1 ? '#10B981' : '#EF4444';\n            }\n          },\n          borderWidth: 2\n        }]\n      };\n    } else {\n      // Candlestick\n      data = {\n        datasets: [{\n          label: `${ticker} OHLC`,\n          data: chartData.map(d => ({\n            x: new Date(d.date).valueOf(),\n            o: d.open,\n            h: d.high,\n            l: d.low,\n            c: d.close\n          }))\n        }]\n      };\n      ChartComponent = Chart; // Use the generic Chart component for custom types\n    }\n    return {\n      type: chartType,\n      options,\n      data,\n      ChartComponent\n    };\n  }, [chartData, chartType, ticker, activeTimeFrame]);\n  if (!chartConfig) return null;\n  const {\n    type,\n    options,\n    data,\n    ChartComponent\n  } = chartConfig;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-8 bg-white p-4 sm:p-6 rounded-xl shadow-lg animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg\",\n        children: timeFrames.map(frame => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onTimeFrameChange(frame),\n          className: `px-3 py-1 text-sm font-semibold rounded-md transition-colors duration-200 ${activeTimeFrame.value === frame.value ? 'bg-blue-600 text-white shadow' : 'text-gray-600 hover:bg-gray-200'}`,\n          children: frame.label\n        }, frame.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: chartType,\n        onChange: e => setChartType(e.target.value),\n        className: \"p-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"line\",\n          children: \"Line Chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"candlestick\",\n          children: \"Candlestick\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96\",\n      children: /*#__PURE__*/_jsxDEV(ChartComponent, {\n        type: type,\n        options: options,\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n_s(StockChart, \"b65ek2hl1YXx+DIP3MVPRijD3ic=\");\n_c = StockChart;\nconst StockDataCard = ({\n  data,\n  onAddToWatchlist\n}) => {\n  const isPositive = data.change >= 0;\n  const changeColor = isPositive ? 'text-green-500' : 'text-red-500';\n  const DataRow = ({\n    label,\n    value\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between py-3 border-b border-gray-200 last:border-b-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm text-gray-500\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-medium text-gray-800\",\n      children: String(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-8 bg-white p-6 rounded-xl shadow-lg animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: [data.companyName, \" (\", data.symbol, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-gray-800 mt-2\",\n          children: [\"$\", data.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center justify-end text-lg font-semibold ${changeColor}`,\n          children: [isPositive ? /*#__PURE__*/_jsxDEV(TrendingUpIcon, {\n            className: \"h-6 w-6 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(TrendingDownIcon, {\n            className: \"h-6 w-6 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [data.change.toFixed(2), \" (\", data.changePercent.toFixed(2), \"%)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onAddToWatchlist(data.symbol),\n          className: \"mt-4 bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors\",\n          children: \"+ Add to Watchlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(DataRow, {\n        label: \"Market Cap\",\n        value: data.marketCap\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DataRow, {\n        label: \"P/E Ratio\",\n        value: data.peRatio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DataRow, {\n        label: \"52 Week High\",\n        value: `$${data.week52High.toFixed(2)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DataRow, {\n        label: \"52 Week Low\",\n        value: `$${data.week52Low.toFixed(2)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n_c2 = StockDataCard;\nconst SearchPage = () => {\n  _s2();\n  const [ticker, setTicker] = useState('');\n  const [searchedTicker, setSearchedTicker] = useState('');\n  const [stockData, setStockData] = useState(null);\n  const [chartData, setChartData] = useState(null);\n  const [activeTimeFrame, setActiveTimeFrame] = useState(timeFrames.find(f => f.value === '6mo'));\n  const [loading, setLoading] = useState(false);\n  const [chartLoading, setChartLoading] = useState(false);\n  const [error, setError] = useState('');\n  const fetchChartData = async (symbol, timeFrame) => {\n    setChartLoading(true);\n    setError('');\n    try {\n      const chartResponse = await fetch(`http://127.0.0.1:5001/chart/${symbol}?period=${timeFrame.value}`);\n      if (!chartResponse.ok) {\n        const errorData = await chartResponse.json();\n        throw new Error(errorData.error || 'Chart data not found');\n      }\n      const chartJson = await chartResponse.json();\n      setChartData(chartJson);\n    } catch (err) {\n      setError(err.message);\n      setChartData(null);\n    } finally {\n      setChartLoading(false);\n    }\n  };\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!ticker) return;\n    setLoading(true);\n    setStockData(null);\n    setChartData(null);\n    setError('');\n    const defaultTimeFrame = timeFrames.find(f => f.value === '6mo');\n    setActiveTimeFrame(defaultTimeFrame);\n    try {\n      const stockResponse = await fetch(`http://127.0.0.1:5001/stock/${ticker}`);\n      if (!stockResponse.ok) {\n        const errorData = await stockResponse.json();\n        throw new Error(errorData.error || 'Stock data not found');\n      }\n      const stockJson = await stockResponse.json();\n      setStockData(stockJson);\n      setSearchedTicker(ticker);\n      await fetchChartData(ticker, defaultTimeFrame);\n    } catch (err) {\n      setError(err.message || 'An error occurred. Try \"AAPL\", \"GOOGL\", or \"TSLA\".');\n      setSearchedTicker('');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTimeFrameChange = timeFrame => {\n    setActiveTimeFrame(timeFrame);\n    if (searchedTicker) {\n      fetchChartData(searchedTicker, timeFrame);\n    }\n  };\n  const handleAddToWatchlist = async tickerToAdd => {\n    try {\n      const response = await fetch(`http://127.0.0.1:5001/watchlist/${tickerToAdd}`, {\n        method: 'POST'\n      });\n      const result = await response.json();\n      // You can use a more sophisticated notification system later\n      alert(result.message);\n    } catch (err) {\n      alert('Failed to add stock to watchlist. Is the server running?');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-16 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-5xl font-extrabold text-gray-800\",\n        children: \"Stock Ticker Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg text-gray-500 mt-3\",\n        children: \"Enter a stock symbol to get the latest data.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"mt-8 flex relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-4 top-1/2 transform -translate-y-1/2\",\n          children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: ticker,\n          onChange: e => setTicker(e.target.value.toUpperCase()),\n          placeholder: \"e.g., AAPL\",\n          className: \"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          className: \"bg-blue-600 text-white font-bold px-8 py-4 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors disabled:bg-blue-300\",\n          children: loading ? '...' : 'Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-4xl mt-4\",\n      children: [error && !chartLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 text-center p-4 bg-red-100 rounded-lg\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 44\n      }, this), stockData && /*#__PURE__*/_jsxDEV(StockDataCard, {\n        data: stockData,\n        onAddToWatchlist: handleAddToWatchlist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 31\n      }, this), chartLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-8 text-gray-500\",\n        children: \"Loading chart...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 34\n      }, this), chartData && !chartLoading && /*#__PURE__*/_jsxDEV(StockChart, {\n        chartData: chartData,\n        ticker: searchedTicker,\n        onTimeFrameChange: handleTimeFrameChange,\n        activeTimeFrame: activeTimeFrame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 9\n  }, this);\n};\n_s2(SearchPage, \"whA0WtoIJaQK26IAUFbG+MhrLds=\");\n_c3 = SearchPage;\nexport default SearchPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StockChart\");\n$RefreshReg$(_c2, \"StockDataCard\");\n$RefreshReg$(_c3, \"SearchPage\");","map":{"version":3,"names":["React","useState","useMemo","SearchIcon","TrendingUpIcon","TrendingDownIcon","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","TimeScale","Filler","CandlestickController","CandlestickElement","jsxDEV","_jsxDEV","register","timeFrames","label","value","StockChart","chartData","ticker","onTimeFrameChange","activeTimeFrame","_s","chartType","setChartType","chartConfig","length","labels","map","d","Date","date","options","responsive","maintainAspectRatio","plugins","legend","display","title","text","font","size","padding","top","bottom","scales","x","type","time","unit","tooltipFormat","grid","y","color","interaction","intersect","mode","elements","point","radius","data","ChartComponent","datasets","close","fill","backgroundColor","context","ctx","chart","gradient","createLinearGradient","lastPrice","firstPrice","isUp","addColorStop","segment","borderColor","y1","p0","parsed","y2","p1","borderWidth","valueOf","o","open","h","high","l","low","c","className","children","frame","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","_c","StockDataCard","onAddToWatchlist","isPositive","change","changeColor","DataRow","String","companyName","symbol","price","toFixed","changePercent","marketCap","peRatio","week52High","week52Low","_c2","SearchPage","_s2","setTicker","searchedTicker","setSearchedTicker","stockData","setStockData","setChartData","setActiveTimeFrame","find","f","loading","setLoading","chartLoading","setChartLoading","error","setError","fetchChartData","timeFrame","chartResponse","fetch","ok","errorData","json","Error","chartJson","err","message","handleSearch","preventDefault","defaultTimeFrame","stockResponse","stockJson","handleTimeFrameChange","handleAddToWatchlist","tickerToAdd","response","method","result","alert","onSubmit","toUpperCase","placeholder","disabled","_c3","$RefreshReg$"],"sources":["/Users/jimmywang/Desktop/RCOS/GitHub/MarketMind/frontend/src/components/SearchPage.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { SearchIcon, TrendingUpIcon, TrendingDownIcon } from './Icons';\nimport { Line, Chart } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale,\n  Filler, // Filler is needed for gradient backgrounds\n} from 'chart.js';\nimport { CandlestickController, CandlestickElement } from 'chartjs-chart-financial';\nimport 'chartjs-adapter-date-fns';\n\n// Register all necessary components for Chart.js\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale,\n  Filler, // Register Filler plugin\n  CandlestickController,\n  CandlestickElement\n);\n\nconst timeFrames = [\n    { label: '1D', value: '1d' },\n    { label: '5D', value: '5d' },\n    { label: '1M', value: '1mo' },\n    { label: '6M', value: '6mo' },\n    { label: '1Y', value: '1y' },\n];\n\nconst StockChart = ({ chartData, ticker, onTimeFrameChange, activeTimeFrame }) => {\n    const [chartType, setChartType] = useState('line');\n\n    const chartConfig = useMemo(() => {\n        if (!chartData || chartData.length === 0) return null;\n\n        const labels = chartData.map(d => new Date(d.date));\n\n        const options = {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n                legend: { display: false },\n                title: {\n                    display: true,\n                    text: `${ticker} Price History (${activeTimeFrame.label})`,\n                    font: { size: 18 },\n                    padding: { top: 10, bottom: 20 }\n                },\n            },\n            scales: {\n                x: {\n                    type: 'time',\n                    time: {\n                        unit: activeTimeFrame.value === '1d' ? 'hour' : 'day',\n                        tooltipFormat: 'MMM dd, yyyy HH:mm',\n                    },\n                    grid: { display: false }\n                },\n                y: {\n                     grid: { color: 'rgba(200, 200, 200, 0.1)' }\n                }\n            },\n            interaction: {\n                intersect: false,\n                mode: 'index',\n            },\n            elements: {\n                point: {\n                    radius: 0 // Hide points on the line\n                }\n            }\n        };\n\n        let data;\n        let ChartComponent = Line;\n\n        if (chartType === 'line') {\n            data = {\n                labels,\n                datasets: [{\n                    label: 'Price',\n                    data: chartData.map(d => d.close),\n                    fill: 'start',\n                    // Logic for gradient background color\n                    backgroundColor: (context) => {\n                        const ctx = context.chart.ctx;\n                        const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n                        const lastPrice = chartData[chartData.length - 1].close;\n                        const firstPrice = chartData[0].close;\n                        const isUp = lastPrice >= firstPrice;\n                        gradient.addColorStop(0, isUp ? 'rgba(16, 185, 129, 0.4)' : 'rgba(239, 68, 68, 0.4)');\n                        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n                        return gradient;\n                    },\n                     // Logic for segmented line color (red/green)\n                    segment: {\n                        borderColor: (ctx) => {\n                            const y1 = ctx.p0.parsed.y;\n                            const y2 = ctx.p1.parsed.y;\n                            return y2 >= y1 ? '#10B981' : '#EF4444';\n                        }\n                    },\n                    borderWidth: 2,\n                }]\n            };\n        } else { // Candlestick\n             data = {\n                datasets: [{\n                    label: `${ticker} OHLC`,\n                    data: chartData.map(d => ({\n                        x: new Date(d.date).valueOf(),\n                        o: d.open,\n                        h: d.high,\n                        l: d.low,\n                        c: d.close\n                    }))\n                }]\n            };\n            ChartComponent = Chart; // Use the generic Chart component for custom types\n        }\n\n        return { type: chartType, options, data, ChartComponent };\n\n    }, [chartData, chartType, ticker, activeTimeFrame]);\n\n    if (!chartConfig) return null;\n    const { type, options, data, ChartComponent } = chartConfig;\n\n    return (\n        <div className=\"mt-8 bg-white p-4 sm:p-6 rounded-xl shadow-lg animate-fade-in\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4\">\n                 <div className=\"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg\">\n                    {timeFrames.map((frame) => (\n                        <button\n                            key={frame.value}\n                            onClick={() => onTimeFrameChange(frame)}\n                            className={`px-3 py-1 text-sm font-semibold rounded-md transition-colors duration-200 ${\n                                activeTimeFrame.value === frame.value\n                                ? 'bg-blue-600 text-white shadow'\n                                : 'text-gray-600 hover:bg-gray-200'\n                            }`}\n                        >\n                            {frame.label}\n                        </button>\n                    ))}\n                </div>\n                <select\n                    value={chartType}\n                    onChange={(e) => setChartType(e.target.value)}\n                    className=\"p-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none text-sm\"\n                >\n                    <option value=\"line\">Line Chart</option>\n                    <option value=\"candlestick\">Candlestick</option>\n                </select>\n            </div>\n            <div className=\"h-96\">\n                <ChartComponent type={type} options={options} data={data} />\n            </div>\n        </div>\n    );\n};\n\n\nconst StockDataCard = ({ data, onAddToWatchlist }) => {\n    const isPositive = data.change >= 0;\n    const changeColor = isPositive ? 'text-green-500' : 'text-red-500';\n\n    const DataRow = ({ label, value }) => (\n        <div className=\"flex justify-between py-3 border-b border-gray-200 last:border-b-0\">\n            <span className=\"text-sm text-gray-500\">{label}</span>\n            <span className=\"text-sm font-medium text-gray-800\">{String(value)}</span>\n        </div>\n    );\n\n    return (\n        <div className=\"mt-8 bg-white p-6 rounded-xl shadow-lg animate-fade-in\">\n            <div className=\"flex justify-between items-start\">\n                <div>\n                    <h2 className=\"text-2xl font-bold text-gray-900\">{data.companyName} ({data.symbol})</h2>\n                    <p className=\"text-3xl font-bold text-gray-800 mt-2\">${data.price.toFixed(2)}</p>\n                </div>\n                <div className=\"text-right\">\n                    <div className={`flex items-center justify-end text-lg font-semibold ${changeColor}`}>\n                         {isPositive ? <TrendingUpIcon className=\"h-6 w-6 mr-1\" /> : <TrendingDownIcon className=\"h-6 w-6 mr-1\" />}\n                        <span>{data.change.toFixed(2)} ({data.changePercent.toFixed(2)}%)</span>\n                    </div>\n                    <button\n                        onClick={() => onAddToWatchlist(data.symbol)}\n                        className=\"mt-4 bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors\"\n                    >\n                        + Add to Watchlist\n                    </button>\n                </div>\n            </div>\n            <div className=\"mt-6\">\n                <DataRow label=\"Market Cap\" value={data.marketCap} />\n                <DataRow label=\"P/E Ratio\" value={data.peRatio} />\n                <DataRow label=\"52 Week High\" value={`$${data.week52High.toFixed(2)}`} />\n                <DataRow label=\"52 Week Low\" value={`$${data.week52Low.toFixed(2)}`} />\n            </div>\n        </div>\n    );\n};\n\nconst SearchPage = () => {\n    const [ticker, setTicker] = useState('');\n    const [searchedTicker, setSearchedTicker] = useState('');\n    const [stockData, setStockData] = useState(null);\n    const [chartData, setChartData] = useState(null);\n    const [activeTimeFrame, setActiveTimeFrame] = useState(timeFrames.find(f => f.value === '6mo'));\n    const [loading, setLoading] = useState(false);\n    const [chartLoading, setChartLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetchChartData = async (symbol, timeFrame) => {\n        setChartLoading(true);\n        setError('');\n        try {\n            const chartResponse = await fetch(`http://127.0.0.1:5001/chart/${symbol}?period=${timeFrame.value}`);\n            if (!chartResponse.ok) {\n                const errorData = await chartResponse.json();\n                throw new Error(errorData.error || 'Chart data not found');\n            }\n            const chartJson = await chartResponse.json();\n            setChartData(chartJson);\n        } catch (err) {\n            setError(err.message);\n            setChartData(null);\n        } finally {\n            setChartLoading(false);\n        }\n    };\n\n    const handleSearch = async (e) => {\n        e.preventDefault();\n        if (!ticker) return;\n\n        setLoading(true);\n        setStockData(null);\n        setChartData(null);\n        setError('');\n\n        const defaultTimeFrame = timeFrames.find(f => f.value === '6mo');\n        setActiveTimeFrame(defaultTimeFrame);\n\n        try {\n            const stockResponse = await fetch(`http://127.0.0.1:5001/stock/${ticker}`);\n            if (!stockResponse.ok) {\n                const errorData = await stockResponse.json();\n                throw new Error(errorData.error || 'Stock data not found');\n            }\n            const stockJson = await stockResponse.json();\n            setStockData(stockJson);\n            setSearchedTicker(ticker);\n\n            await fetchChartData(ticker, defaultTimeFrame);\n\n        } catch (err) {\n            setError(err.message || 'An error occurred. Try \"AAPL\", \"GOOGL\", or \"TSLA\".');\n            setSearchedTicker('');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleTimeFrameChange = (timeFrame) => {\n        setActiveTimeFrame(timeFrame);\n        if (searchedTicker) {\n            fetchChartData(searchedTicker, timeFrame);\n        }\n    };\n\n    const handleAddToWatchlist = async (tickerToAdd) => {\n        try {\n            const response = await fetch(`http://127.0.0.1:5001/watchlist/${tickerToAdd}`, {\n                method: 'POST',\n            });\n            const result = await response.json();\n             // You can use a more sophisticated notification system later\n            alert(result.message);\n        } catch (err) {\n            alert('Failed to add stock to watchlist. Is the server running?');\n        }\n    };\n\n    return (\n        <div className=\"container mx-auto px-4 py-16 flex flex-col items-center\">\n            <div className=\"w-full max-w-2xl text-center\">\n                <h1 className=\"text-5xl font-extrabold text-gray-800\">Stock Ticker Search</h1>\n                <p className=\"text-lg text-gray-500 mt-3\">Enter a stock symbol to get the latest data.</p>\n                <form onSubmit={handleSearch} className=\"mt-8 flex relative\">\n                    <div className=\"absolute left-4 top-1/2 transform -translate-y-1/2\">\n                        <SearchIcon />\n                    </div>\n                    <input\n                        type=\"text\"\n                        value={ticker}\n                        onChange={(e) => setTicker(e.target.value.toUpperCase())}\n                        placeholder=\"e.g., AAPL\"\n                        className=\"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow\"\n                    />\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"bg-blue-600 text-white font-bold px-8 py-4 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors disabled:bg-blue-300\"\n                    >\n                        {loading ? '...' : 'Search'}\n                    </button>\n                </form>\n            </div>\n            <div className=\"w-full max-w-4xl mt-4\">\n                {error && !chartLoading && <div className=\"text-red-500 text-center p-4 bg-red-100 rounded-lg\">{error}</div>}\n                {stockData && <StockDataCard data={stockData} onAddToWatchlist={handleAddToWatchlist} />}\n                {chartLoading && <div className=\"text-center p-8 text-gray-500\">Loading chart...</div>}\n                {chartData && !chartLoading && (\n                    <StockChart\n                        chartData={chartData}\n                        ticker={searchedTicker}\n                        onTimeFrameChange={handleTimeFrameChange}\n                        activeTimeFrame={activeTimeFrame}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default SearchPage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}